---
title: "BioDyn Summary Document"
author: "Shyamolina"
date: "6/25/2021"
output:
  html_document: default
  pdf_document: default
---

```{r setup, include=FALSE, echo=F, message=F, results="hide"}
knitr::opts_chunk$set(echo = TRUE)
options(scipen = 1, digits = 4)
seed<-101
library(tidyverse)
library(knitr)
library(kableExtra)
```

# Objective\label{Objective}


# Data\label{Data}

We collected species-level community data from freshwater and terrestrial realms. Here is a snippet of the cleaned metadata with 28 observations:

```{r metadataview, echo=F}

df_md<-read.csv("../../Results/gather_res/metadata_summary.csv")
df_md$UID<-paste(df_md$source,df_md$STUDY_ID,sep=",")
df_md<-df_md%>%select(UID,newsite,REALM,TAXA,ORGANISMS,CENT_LAT,CENT_LONG,nsp,nyr)
df_md_r<-df_md[c(1:3,823:827,859:862,2605:2606,2642:2645,2766:2768,2773,2774,2788,2789,2790,2862:2863),]
rownames(df_md_r)<-NULL
df_md_r %>%
  kbl() %>%
  kable_styling()
```

Data (total = `r nrow(df_md)` observations) have the following hierarchical structure: 

 - Realms: 2 levels
```{r metadataview2, echo=F}
table(df_md$REALM)
```
 - Taxa: total 7 levels nested within Realms
```{r metadataview3, echo=F}
df_md%>%group_by(REALM)%>%count(TAXA)%>%ungroup()
```
 - UID(= combination of STUDY_ID and Datasource): total 249 levels nested within TAXA, each    level might have 1 or multiple observations of **newsite**
```{r metadataview4, echo=F}
df_md%>%group_by(REALM, TAXA)%>%count(UID)%>%ungroup()
```


# Model\label{Model}

